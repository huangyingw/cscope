diff --git a/src/find.c b/src/find.c
index d7a66f0..394c046 100644
--- ./src/find.c
+++ ./src/find.c
@@ -587,7 +587,7 @@ findregexp(char *egreppat)
 	    char *file = filepath(srcfiles[i]);
 
 	    progress("Search", searchcount, nsrcfiles);
-	    if (egrep(file, refsfound, "%s <unknown> %ld ") < 0) {
+	    if (egrep(file, refsfound, "%s:%ld ") < 0) {
 		posterr ("Cannot open file %s", file);
 	    }
 	}
diff --git a/src/global.h b/src/global.h
index a6f1486..7be1874 100644
--- ./src/global.h
+++ ./src/global.h
@@ -416,4 +416,5 @@ int	execute(char *a, ...);
 long	dbseek(long offset);
 
 
+#define BUFSIZ  1024        /* size of buffer used by setbuf */
 #endif /* CSCOPE_GLOBAL_H */
